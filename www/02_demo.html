<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>bitmania</title>
</head>
<body>
  <h1>DEMO</h1>
  <canvas id="cvs" width="300px" height="500px"></canvas>
<script>
  const canvas = document.getElementById("cvs");
  const ctx = canvas.getContext("2d");

  ctx.fillStyle = "black";
  ctx.fillRect(0,0,500,500);

  ctx.strokeStyle = "red";
  ctx.strokeRect(10,canvas.height -50,20,40);
  ctx.strokeStyle = "white";
  ctx.strokeRect(10+30*1,canvas.height -50,20,40);
  ctx.strokeStyle = "blue";
  ctx.strokeRect(10+30*2,canvas.height -50,20,40);
  ctx.strokeStyle = "white";
  ctx.strokeRect(10+30*3,canvas.height -50,20,40);
  ctx.strokeStyle = "blue";
  ctx.strokeRect(10+30*4,canvas.height -50,20,40);
  ctx.strokeStyle = "white";
  ctx.strokeRect(10+30*5,canvas.height -50,20,40);
  ctx.strokeStyle = "blue";
  ctx.strokeRect(10+30*6,canvas.height -50,20,40);
  ctx.strokeStyle = "white";
  ctx.strokeRect(10+30*7,canvas.height -50,20,40);

  document.addEventListener('keydown', keydown_event);
  //document.addEventListener('keypress', keypress_event);
  document.addEventListener('keyup', keyup_event);

function keydown_event(e){
  console.log("keydown:" + e.key);
  if(e.key == "Shift"){
    ctx.fillStyle = "red";
    ctx.fillRect(10+30*0,canvas.height -50,20,40);
  }
  if(e.keyCode === 32){
    e.preventDefault();
  }
  switch (e.key.toLowerCase()){
    case "z":
      ctx.fillStyle = "white";
      ctx.fillRect(10+30*1,canvas.height -50,20,40);
      break;

    case "x":
      ctx.fillStyle = "blue";
      ctx.fillRect(10+30*2,canvas.height -50,20,40);
      break;

    case "c":
      ctx.fillStyle = "white";
      ctx.fillRect(10+30*3,canvas.height -50,20,40);
      break;

    case " ":
      ctx.fillStyle = "blue";
      ctx.fillRect(10+30*4,canvas.height -50,20,40);
      break;
 
    case "j":
      ctx.fillStyle = "white";
      ctx.fillRect(10+30*5,canvas.height -50,20,40);
      break;
    case "k":
      ctx.fillStyle = "blue";
      ctx.fillRect(10+30*6,canvas.height -50,20,40);
      break;

    case "l":
      ctx.fillStyle = "white";
      ctx.fillRect(10+30*7,canvas.height -50,20,40);
      break;
  }
}

function keyup_event(e){
  console.log("keyup:"+e.key);
  switch (e.key.toLowerCase()){
    case "shift":
      ctx.fillStyle = "black";
      ctx.fillRect(10+30*0,canvas.height -50,20,40);
      ctx.strokeStyle = "red";
      ctx.strokeRect(10+30*0,canvas.height -50,20,40);
      break;
    
    case "z":
      ctx.fillStyle = "black";
      ctx.fillRect(10+30*1,canvas.height -50,20,40);
      ctx.strokeStyle = "white";
      ctx.strokeRect(10+30*1,canvas.height -50,20,40);
      break;

    case "x":
      ctx.fillStyle = "black";
      ctx.fillRect(10+30*2,canvas.height -50,20,40);
      ctx.strokeStyle = "blue";
      ctx.strokeRect(10+30*2,canvas.height -50,20,40);
      break;

    case "c":
      ctx.fillStyle = "black";
      ctx.fillRect(10+30*3,canvas.height -50,20,40);
      ctx.strokeStyle = "white";
      ctx.strokeRect(10+30*3,canvas.height -50,20,40);
      break;

    case " ": 
      ctx.fillStyle = "black";
      ctx.fillRect(10+30*4,canvas.height -50,20,40);
      ctx.strokeStyle = "blue";
      ctx.strokeRect(10+30*4,canvas.height -50,20,40);
      break;

    case "j": 
      ctx.fillStyle = "black";
      ctx.fillRect(10+30*5,canvas.height -50,20,40);
      ctx.strokeStyle = "white";
      ctx.strokeRect(10+30*5,canvas.height -50,20,40);
      break;
    
    case "k": 
      ctx.fillStyle = "black";
      ctx.fillRect(10+30*6,canvas.height -50,20,40);
      ctx.strokeStyle = "blue";
      ctx.strokeRect(10+30*6,canvas.height -50,20,40);
      break;
    
    case "l": 
      ctx.fillStyle = "black";
      ctx.fillRect(10+30*7,canvas.height -50,20,40);
      ctx.strokeStyle = "white";
      ctx.strokeRect(10+30*7,canvas.height -50,20,40);
      break;
    }
}
</script>

<h2>KEYBORD</h2>
<ul style="list-style-type:decimal">
  <li>shift</li>
  <li>z</li>
  <li>x</li>
  <li>c</li>
  <li>space</li>
  <li>j</li>
  <li>k</li>
  <li>l</li>
</ul>
</body>
</html>

